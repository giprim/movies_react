{"ast":null,"code":"var _jsxFileName = \"/home/gi/NODEWORKSPACE/movies_react/movies/src/components/Search.js\";\nimport React, { useState, useEffect, createContext } from 'react';\nimport Axios from 'axios';\nimport Navbar from './Navbar';\nconst SearchContext = createContext([]);\n\nfunction Search(props) {\n  const [inputValue, setInputValue] = useState('');\n  const [searchResult, setSearchResult] = useState([]);\n  useEffect(() => {\n    console.log(searchResult);\n  }, [searchResult]);\n\n  const handleSearchInput = e => {\n    e.persist();\n    let inputValue = e.target.value;\n    setInputValue(inputValue);\n  };\n\n  const handleSearchSubmit = e => {\n    e.preventDefault();\n    makeRequest(inputValue);\n  };\n\n  const makeRequest = searchFor => {\n    let search = {\n      method: 'GET',\n      url: `https://imdb-internet-movie-database-unofficial.p.rapidapi.com/search/${searchFor}`,\n      headers: {\n        'content-type': 'application/octet-stream',\n        'x-rapidapi-host': 'imdb-internet-movie-database-unofficial.p.rapidapi.com',\n        'x-rapidapi-key': '1928aa76c3msh12d0543b8640813p1b3c8cjsneb28e6b3b6ed'\n      }\n    };\n    Axios(search).then(res => setSearchResult(res.data)).catch(err => console.error(err));\n  };\n\n  return React.createElement(SearchContext.Provider, {\n    searchResult: searchResult,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    handleSearchInput: handleSearchInput,\n    handleSearchSubmit: handleSearchSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), props.children);\n}\n\nexport { SearchContext };\nexport default Search;","map":{"version":3,"sources":["/home/gi/NODEWORKSPACE/movies_react/movies/src/components/Search.js"],"names":["React","useState","useEffect","createContext","Axios","Navbar","SearchContext","Search","props","inputValue","setInputValue","searchResult","setSearchResult","console","log","handleSearchInput","e","persist","target","value","handleSearchSubmit","preventDefault","makeRequest","searchFor","search","method","url","headers","then","res","data","catch","err","error","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,aAArC,QAA0D,OAA1D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,MAAMC,aAAa,GAAGH,aAAa,CAAC,EAAD,CAAnC;;AAEA,SAASI,MAAT,CAAgBC,KAAhB,EAAuB;AACtB,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACU,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAAC,EAAD,CAAhD;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACfW,IAAAA,OAAO,CAACC,GAAR,CAAYH,YAAZ;AACA,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;;AAIA,QAAMI,iBAAiB,GAAGC,CAAC,IAAI;AAC9BA,IAAAA,CAAC,CAACC,OAAF;AACA,QAAIR,UAAU,GAAGO,CAAC,CAACE,MAAF,CAASC,KAA1B;AACAT,IAAAA,aAAa,CAACD,UAAD,CAAb;AACA,GAJD;;AAMA,QAAMW,kBAAkB,GAAGJ,CAAC,IAAI;AAC/BA,IAAAA,CAAC,CAACK,cAAF;AACAC,IAAAA,WAAW,CAACb,UAAD,CAAX;AACA,GAHD;;AAKA,QAAMa,WAAW,GAAGC,SAAS,IAAI;AAChC,QAAIC,MAAM,GAAG;AACZC,MAAAA,MAAM,EAAE,KADI;AAEZC,MAAAA,GAAG,EAAG,yEAAwEH,SAAU,EAF5E;AAGZI,MAAAA,OAAO,EAAE;AACR,wBAAgB,0BADR;AAER,2BACC,wDAHO;AAIR,0BAAkB;AAJV;AAHG,KAAb;AAUAvB,IAAAA,KAAK,CAACoB,MAAD,CAAL,CACEI,IADF,CACOC,GAAG,IAAIjB,eAAe,CAACiB,GAAG,CAACC,IAAL,CAD7B,EAEEC,KAFF,CAEQC,GAAG,IAAInB,OAAO,CAACoB,KAAR,CAAcD,GAAd,CAFf;AAGA,GAdD;;AAeA,SACC,oBAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,YAAY,EAAErB,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,MAAD;AACC,IAAA,iBAAiB,EAAEI,iBADpB;AAEC,IAAA,kBAAkB,EAAEK,kBAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAKEZ,KAAK,CAAC0B,QALR,CADD;AASA;;AACD,SAAS5B,aAAT;AACA,eAAeC,MAAf","sourcesContent":["import React, { useState, useEffect, createContext } from 'react';\nimport Axios from 'axios';\n\nimport Navbar from './Navbar';\n\nconst SearchContext = createContext([]);\n\nfunction Search(props) {\n\tconst [inputValue, setInputValue] = useState('');\n\tconst [searchResult, setSearchResult] = useState([]);\n\n\tuseEffect(() => {\n\t\tconsole.log(searchResult);\n\t}, [searchResult]);\n\n\tconst handleSearchInput = e => {\n\t\te.persist();\n\t\tlet inputValue = e.target.value;\n\t\tsetInputValue(inputValue);\n\t};\n\n\tconst handleSearchSubmit = e => {\n\t\te.preventDefault();\n\t\tmakeRequest(inputValue);\n\t};\n\n\tconst makeRequest = searchFor => {\n\t\tlet search = {\n\t\t\tmethod: 'GET',\n\t\t\turl: `https://imdb-internet-movie-database-unofficial.p.rapidapi.com/search/${searchFor}`,\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/octet-stream',\n\t\t\t\t'x-rapidapi-host':\n\t\t\t\t\t'imdb-internet-movie-database-unofficial.p.rapidapi.com',\n\t\t\t\t'x-rapidapi-key': '1928aa76c3msh12d0543b8640813p1b3c8cjsneb28e6b3b6ed'\n\t\t\t}\n\t\t};\n\t\tAxios(search)\n\t\t\t.then(res => setSearchResult(res.data))\n\t\t\t.catch(err => console.error(err));\n\t};\n\treturn (\n\t\t<SearchContext.Provider searchResult={searchResult}>\n\t\t\t<Navbar\n\t\t\t\thandleSearchInput={handleSearchInput}\n\t\t\t\thandleSearchSubmit={handleSearchSubmit}\n\t\t\t/>\n\t\t\t{props.children}\n\t\t</SearchContext.Provider>\n\t);\n}\nexport { SearchContext };\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}